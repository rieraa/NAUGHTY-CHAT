import React, { useState, useEffect } from "react";
import { Link, useNavigate } from "react-router-dom";
import styled from "styled-components";
import axios from "axios";
import { ToastContainer, toast } from "react-toastify";
import loader from "../assets/loader.gif";
import "react-toastify/dist/ReactToastify.css";
import { setAvatarRoute } from "../utils/APIRoutes";
import { Buffer } from "buffer";

export default function SetAvatar() {
  const api = "https://api.multiavatar.com/45678945";
  const navigate = useNavigate();

  const [avatars, setAvatars] = useState([]);
  const [isLoading, setIsLoading] = useState(true);
  const [selectedAvatar, setselectedAvatar] = useState(undefined);

  // 错误提醒配置
  const toastOptions = {
    position: "bottom-right",
    autoClose: 5000,
    pauseOnHover: true,
    draggable: true,
    theme: "color",
  };

  const setProfilePicture = async () => {
    if (selectedAvatar === undefined) {
      toast.error("请先选择头像", toastOptions);
    } else {
      const user = await JSON.parse(localStorage.getItem("chat-app-user"));
      const { data } = await axios.post(`${setAvatarRoute}/${user._id}`, {
        image: avatars[selectedAvatar],
      });

      if (data.isSet) {
        user.isAvatarImageSet = true;
        user.avatarImage = data.image;
        localStorage.setItem("chat-app-user", JSON.stringify(user)); //todo
        navigate("/");
      } else {
        toast.error("头像设置错误，请重试", toastOptions);
      }
    }
  };

  const fetchData = async () => {
    try {
      const data = [];
      for (let i = 0; i < 4; i++) {
        const image = await axios.get(
          `${api}/${Math.round(Math.random() * 1000)}`
        );
        const buffer = new Buffer(image.data);
        data.push(buffer.toString("base64"));
      }
      setAvatars(data);
      setIsLoading(false);
    } catch (error) {
      const data = [
        "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMzEgMjMxIj48cGF0aCBkPSJNMzMuODMsMzMuODNhMTE1LjUsMTE1LjUsMCwxLDEsMCwxNjMuMzQsMTE1LjQ5LDExNS40OSwwLDAsMSwwLTE2My4zNFoiIHN0eWxlPSJmaWxsOiNmZjFlYzE7Ii8+PHBhdGggZD0ibTExNS41IDUxLjc1YTYzLjc1IDYzLjc1IDAgMCAwLTEwLjUgMTI2LjYzdjE0LjA5YTExNS41IDExNS41IDAgMCAwLTUzLjcyOSAxOS4wMjcgMTE1LjUgMTE1LjUgMCAwIDAgMTI4LjQ2IDAgMTE1LjUgMTE1LjUgMCAwIDAtNTMuNzI5LTE5LjAyOXYtMTQuMDg0YTYzLjc1IDYzLjc1IDAgMCAwIDUzLjI1LTYyLjg4MSA2My43NSA2My43NSAwIDAgMC02My42NS02My43NSA2My43NSA2My43NSAwIDAgMC0wLjA5OTYxIDB6IiBzdHlsZT0iZmlsbDojNzU1MjI3OyIvPjxwYXRoIGQ9Im0xNDEuNzUgMTk1YTExNC43OSAxMTQuNzkgMCAwIDEgMzggMTYuNSAxMTUuNTMgMTE1LjUzIDAgMCAxLTEyOC40NiAwIDExNC43OSAxMTQuNzkgMCAwIDEgMzgtMTYuNWMwIDEwLjc2IDExLjc1IDE5LjQ4IDI2LjI1IDE5LjQ4czI2LjI1LTguNzIgMjYuMjUtMTkuNDh6IiBzdHlsZT0iZmlsbDojMDA2NTBiOyIvPjxwYXRoIGQ9Im05Mi41MDIgMTk0LjI3djAuNzAzOTFjMCA0LjMwMzMgMi40MzczIDguMjU4MyA2LjM4MDcgMTEuMTgzIDQuMjE5OSAzLjEyMDQgMTAuMTA2IDUuMDUwOCAxNi42NjEgNS4wNTA4IDYuNTQ4IDAgMTIuNDM0LTEuOTMwMyAxNi42NTQtNS4wNTA4IDMuOTQzNC0yLjkyNDUgNi4zODgtNi44Nzk1IDYuMzg4LTExLjE4M3YtMC42NzQ4OWMxLjA3NjggMC4yMTc3MSAyLjE0NjMgMC40NDk5NCAzLjIxNTggMC42OTY2NmgtN2UtM2MxLjA2OTUgMC4yNDY3MiAyLjEzMTggMC41MDc5OCAzLjE4NjcgMC43OTEtMC4yNzY0OCA2LjEwMy0zLjY1MjQgMTEuNTUzLTguOTcwOCAxNS40OTMtNS4yODIxIDMuOTExNC0xMi41MjEgNi4zMjgtMjAuNDY2IDYuMzI4LTcuOTQ0OSAwLTE1LjE4NC0yLjQxNjUtMjAuNDc0LTYuMzI4LTUuMzMzLTMuOTQ3Ny04LjcwODktOS40MTk0LTguOTcwOC0xNS41NDQgMS4wNTUtMC4yNzU3NyAyLjEwOTktMC41MzcwMiAzLjE3MjItMC43ODM3NiAxLjA2OTUtMC4yMzk0NyAyLjE0NjMtMC40NjQ0MyAzLjIzMDQtMC42ODIxM3oiIHN0eWxlPSJmaWxsOiM2MmNlNWE7Ii8+PHBhdGggZD0ibTEwOS45OSAxNS41N2MtMTMuNDYgMy42MzAxLTE5Ljc4OSAxMS45NS0yNC4wNjkgMjQuMDgtNi45OTk2LTctOC43MzA3LTEwLjgyLTcuNTYwNi0yMS40M2E0MSA0MSAwIDAgMC05LjI2OTggMjQuOTg4YzAuMDM2NiA3LjY3NzYgNS42NDYyIDEzLjkzOSAxMi42OTcgMTUuMjk3LTEzLjMxNSA1LjgxMDYtMTUuMjU4IDIyLjAzMy0xNC4wNDUgMzMuNTI0IDUuNzY4Ny0xMS44NjEgMTQuMjU0LTIwLjk4MSAyNy4yNTgtMjIuOTUxLTAuNDMwMTcgNi42LTIuNTA5OSAxMC4yMi03LjI5IDE3LjY2IDE4LjI5LTIuODYwMSAyNS4xMTktNy44MTk5IDM3LjE1LTE4LjI0IDAuNDYwMDEgMCAxLjAwMDEgMC4wODkgMS40NjA2IDAuMTIwNTgtMC4zMzAyMyAzLjU2MDEtMS4wOTA2IDYuNTU5OC01LjAwMDQgMTIuNDYgOS41Mjk4LTEuMzIgMTQuNzIxLTUuODAwNiAxNy41MzktMTEuNjcxIDguODg2MiAwLjk1MzE0IDE1LjgzNiA2Ljc4NSAyMS4yNiAxNC44MTggMS45MjgtMTUuMjExLTQuNDc2Ni0yNi42LTE5LjgwNy0zNC4wMzYgMS40MTY3LTIuNjk3NCA4LjAxNDMtMTEuOTI1IDE3LjY2MS0xNS43MjEtMS40MjQtMC4yODU2OS0yLjg4ODMtMC40OTQ4Ni00LjQwMzMtMC42MTEyNS01LjcxLTAuNDE5OTItMTMuNjItMC45OTk4Mi0yNC44OSA0LjE3MDMgMi44NTAxLTguNTEwMSAxMC4yMS0xMSAxOC4wNS0xMy4xMi0xNS4xMzEtMS4yNTAxLTI4LjYxLTIuNTg5OC00MC41MyA4LjE4MDEtMS44OTk3LTYuMjEtMC4xODA1NS0xMi41NCAzLjc4ODktMTcuNTJ6IiBzdHlsZT0iZmlsbDojMDBmZmZkOyIvPjxwYXRoIGQ9Im0xNzIuNjMgNjkuOTU0YzEuMjI5MiAxNC4wNjQgMC45Mzg0MSAyOS45NiAwLjM0NjM1IDQ1LjE2OSAxLjc4ODcgNi43OTYgMy4wMzc5IDEzLjIzNSAzLjg4NDIgMTguMzg4bDAuMTM5NzMtMC4wMTFjMS4wMDAxIDYuNTYgMi4zNTk3IDEzLjE4IDMuMjY5OCAxOS43MyAyLjAwMDItNi41Njk5IDIuNTMwMy0xOC4yNSAzLjI0MDUtMjUuNDMgMS4yNTk3LTEzIDEuODI5Ni0yOS4zMTEtMC40MzAxNy00MS45MzEtMC44NTA0MS00LjcyLTIuMDAwNy03LjY4OTYtMi4wMDA3LTguNDc5NiA0LjYyMDUgMy41NjAxIDguNjYwNiA5LjIyMDQgMTMuMDAxIDE0LjE1LTAuNjc1MS0zLjQzMTgtMS4zNDctNi42MDA0LTIuMDU2Ny05LjUyNzMtNC4wNDctNS43MTgzLTEzLjcyNi0xMi4xNTQtMTkuMzkzLTEyLjA2eiIgc3R5bGU9ImZpbGw6bm9uZTsiLz48cGF0aCBkPSJtMTU3Ljk3IDM0LjQ3MWMtMTAuMzM5IDIuNzU3OS0xNy43MTUgMTMuNTQzLTE5LjEzMiAxNi4yNCAxNS4zMyA3LjQzNjEgMjAuNzgzIDE3Ljk2IDIxLjI3OCAzMy41MTcgNS45NTM0IDguODE3OSAxMC4wNjYgMjAuMjg5IDEyLjg1NyAzMC44OTUgMC44NzYzNi0xMy4xNzggMS44MTg2LTI3LjcyNiAwLjI2NTY2LTQ0LjI4IDIuNTY5OCAwLjQ0ODU3IDkuMTM3MiAxLjM5MzQgMTguNzgxIDExLjE3LTIuMTE1OC04LjczMjEtNC41NjcxLTE1LjMxLTguNDUzOS0yMC4yODMtNC41NTk4LTUuODQwMS0xMC45OTktMTAuNDMxLTIzLjgwOS0xMyA5LjY1MDItMy4zNCAxNi4yNy0wLjc2OTkzIDI1LjUgMi4xMzAxLTguMTM4OC03LjQzMTUtMTYuNDc0LTE0LjIxOS0yNy4yODctMTYuMzg5eiIgc3R5bGU9ImZpbGw6bm9uZTsiLz48cGF0aCBkPSJtNjEuNDczIDczLjM1NGMtNy4yNTYtMC43NzUwMS0xMy4wMjQgMi4zNzQ2LTE2LjI2MiA1LjM4NzkgMC43Mzc4OS0wLjQ1NDA5IDEuMzg2OC0wLjc0MjA4IDEuODQ4OS0wLjc0MjA4IDAgMC0xLjUxOTggMTAuMzU5LTEuNjE5NyAxMS41MTktMS41NiAxOS43MyAwLjk5OTU3IDQzLjQwMSA2LjM3IDYyLjQ3MSAxLjMwOTkgNC42ODk5IDEuMTg5NSAzLjA4OTMgMS44ODk4LTAuOTEwNyAxLjc1MjYtMTAuMDYxIDMuMzg5MS0yNC43MDMgNi45NzM5LTM4Ljg2NC01LjA2OC0xNy42MjctNC4yNTA4LTMyLjQwMyAwLjc5OTM3LTM4Ljg2MXoiIHN0eWxlPSJmaWxsOm5vbmU7Ii8+PHBhdGggZD0ibTY5LjA5IDQzLjIxYy0wLjAyNTMgMS4wODAzLThlLTMgMi4xNjEyIDAuMDUyMyAzLjI0MDItMy44NDAyIDAtMTIuNDYgMC43MTk4NC0xNiAyLjE1OTgtNC40NTA0IDEuODAwMS04LjQ4IDUuNDgwMS0xMS42NyAxMS44MyA3LjI5OTktMy45NCAxMS44OTktMy44NTAyIDE2LjY2LTEuODEwMi0xMC4zOSAzLjQ1LTE5LjUyIDExLjM3LTIwLjMyIDI2LjkgMS4xNDU2LTEuNTA1MyA0LjYwNzktNC45Nzg5IDcuMTM5My02LjYyODUgMC4wOS0wLjA1ODcgMC4xNzQyNy0wLjEwNTU2IDAuMjYxNjctMC4xNTk0NiAzLjcxNDEtMi4zMjExIDkuMDQ5NC01LjEyNDcgMTUuMTgxLTQuOTU1My01LjA1MDEgNi40NTc3LTYuNjgyNCAyMC40MzQgMC4yODIwNyAzOC40MjggMS43ODY2LTcuMDU2NyA0LjA1NzQtMTMuOTk0IDcuMDY4MS0yMC4xODQtMWUtMyAtMTEuNjY0IDIuMDc2NC0yNy43NzQgMTUuMzkxLTMzLjU4NS03LjA1MDgtMi4xNTM4LTEyLjcwOS03Ljk5MS0xNC4wNDMtMTUuMjM2eiIgc3R5bGU9ImZpbGw6bm9uZTsiLz48cGF0aCBkPSJtOTcuNTYgMTA3Ljg0YTEwLjYzIDEwLjYzIDAgMCAxLTE1IDAuMTNsLTAuMTMtMC4xMyIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLXdpZHRoOjYuM3B4O3N0cm9rZTojMDAwOyIvPjxwYXRoIGQ9Im0xNDguNTkgMTA3Ljg0YTEwLjYzIDEwLjYzIDAgMCAxLTE1IDAuMTNsLTAuMTMtMC4xMyIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLXdpZHRoOjYuM3B4O3N0cm9rZTojMDAwOyIvPjxwYXRoIGQ9Im0xMTguNTcgMTY1LjE0YTguNjYgOC42NiAwIDAgMC0yLjc2LTQuMjNoLTAuNjJhOCA4IDAgMCAwLTIuNzYgNC4yMmMtMC41MiAxLjg5IDIuMDcgMTAuNjEgMi43NiAxMi41M2gwLjYyYzAuNjQtMS43NiAzLjE5LTEwLjgyIDIuNzYtMTIuNTJ6IiBzdHlsZT0iZmlsbDojMTkxOTE5OyIvPjxwYXRoIGQ9Im0xMDIuODEgMTUyLjI0YTIuNDkyMSAyLjQ5MjEgMCAxIDEgMS4xOS00Ljg0bDAuMjEgMC4wNmEzNy4xIDM3LjEgMCAwIDAgNS40MyAxLjEyIDQ0LjUyIDQ0LjUyIDAgMCAwIDExLjc2IDAgMzcuMSAzNy4xIDAgMCAwIDUuNDMtMS4xMiAyLjQ5MDMgMi40OTAzIDAgMCAxIDEuNTkgNC43MmwtMC4yMSAwLjA2YTQzLjA4IDQzLjA4IDAgMCAxLTYuMTUgMS4yOSA0OC41NSA0OC41NSAwIDAgMS0xMy4wOCAwIDQyLjc5IDQyLjc5IDAgMCAxLTYuMTctMS4yOXoiIHN0eWxlPSJmaWxsOiMxOTE5MTk7Ii8+PC9zdmc+",
        "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMzEgMjMxIj48cGF0aCBkPSJNMzMuODMsMzMuODNhMTE1LjUsMTE1LjUsMCwxLDEsMCwxNjMuMzQsMTE1LjQ5LDExNS40OSwwLDAsMSwwLTE2My4zNFoiIHN0eWxlPSJmaWxsOiMwREMxNUM7Ii8+PHBhdGggZD0ibTExNS41IDUxLjc1YTYzLjc1IDYzLjc1IDAgMCAwLTEwLjUgMTI2LjYzdjE0LjA5YTExNS41IDExNS41IDAgMCAwLTUzLjcyOSAxOS4wMjcgMTE1LjUgMTE1LjUgMCAwIDAgMTI4LjQ2IDAgMTE1LjUgMTE1LjUgMCAwIDAtNTMuNzI5LTE5LjAyOXYtMTQuMDg0YTYzLjc1IDYzLjc1IDAgMCAwIDUzLjI1LTYyLjg4MSA2My43NSA2My43NSAwIDAgMC02My42NS02My43NSA2My43NSA2My43NSAwIDAgMC0wLjA5OTYxIDB6IiBzdHlsZT0iZmlsbDojZGJiYzdmOyIvPjxwYXRoIGQ9Im05MS45MiAxOTQuNDFhMTAxLjQ3IDEwMS40NyAwIDAgMSAyMy41OCAxNy4wOSAxMDEuNDcgMTAxLjQ3IDAgMCAxIDIzLjU4LTE3LjA5YzAuODkgMC4xOSAxLjc4IDAuMzggMi42NyAwLjU5YTExNC43OSAxMTQuNzkgMCAwIDEgMzggMTYuNSAxMTUuNTMgMTE1LjUzIDAgMCAxLTEyOC40NiAwIDExNC43OSAxMTQuNzkgMCAwIDEgMzgtMTYuNWMwLjg4LTAuMjEgMS43OC0wLjQgMi42Ny0wLjU5eiIgc3R5bGU9ImZpbGw6I2ZmMDAwMDsiLz48cGF0aCBkPSJtNzMuNjUgMTk5LjgyYzE2LjU5IDguMjMgMjguNzIgMTguOTEgMzQuMjcgMzAuOTNhMTE0Ljg2IDExNC44NiAwIDAgMS01Ni42NS0xOS4yNSAxMTUuMDYgMTE1LjA2IDAgMCAxIDIyLjM4LTExLjY4eiIgc3R5bGU9ImZpbGw6I2ZmYzEwNzsiLz48cGF0aCBkPSJtNjAuNjMgMjA1Ljg1YzEyLjM1IDUuOTQgMjEuOTMgMTMuNDQgMjcuNTkgMjEuOTFhMTE0LjcgMTE0LjcgMCAwIDEtMzYuOTUtMTYuMjZxNC41My0zIDkuMzYtNS42NXoiIHN0eWxlPSJmaWxsOiNmZjAwMDA7Ii8+PHBhdGggZD0ibTE1Ny4zNSAxOTkuODJjLTE2LjYgOC4yMy0yOC43MiAxOC45MS0zNC4yNyAzMC45M2ExMTQuODYgMTE0Ljg2IDAgMCAwIDU2LjY1LTE5LjI1IDExNS4wNiAxMTUuMDYgMCAwIDAtMjIuMzgtMTEuNjh6IiBzdHlsZT0iZmlsbDojZmZjMTA3OyIvPjxwYXRoIGQ9Im0xNzAuMzcgMjA1Ljg1Yy0xMi4zNSA1Ljk0LTIxLjkzIDEzLjQ0LTI3LjU5IDIxLjkxYTExNC43IDExNC43IDAgMCAwIDM2Ljk1LTE2LjI2cS00LjUzLTMtOS4zNi01LjY1eiIgc3R5bGU9ImZpbGw6I2ZmMDAwMDsiLz48cGF0aCBkPSJtMzIuOTAyIDY3LjY2MmMtMC4zNjI5NSAxLjcyMjctNi4yMzQyIDMwLjY5NSA1LjYxMzMgNTIuNTk2IDQuNTg0MyA4LjQ3NDMgOS4wMDgxIDEzLjIzOSAxMi43NSAxNS44OTNhNjcuNyA2Ny43IDAgMCAxLTMuNDY4OC0yMS4zNSA2Ny43IDY3LjcgMCAwIDEgMi4zMzItMTcuNjU4Yy00LjQ5MTQtMi40NjQ2LTEwLjg2OC02LjkwMTItMTMuODM0LTEzLjUyLTQuMTYyNi05LjI4NS0zLjYxNTUtMTQuNjczLTMuMzkyNi0xNS45NjF6bTE2NS4xOSAwYzAuMjIyOTIgMS4yODgyIDAuNzcwMDUgNi42NzU5LTMuMzkyNiAxNS45NjEtMi45NjY0IDYuNjE4My05LjM0MjYgMTEuMDU1LTEzLjgzNCAxMy41MmE2Ny43IDY3LjcgMCAwIDEgMi4zMzIgMTcuNjU4IDY3LjcgNjcuNyAwIDAgMS0zLjQ2ODggMjEuMzVjMy43NDE5LTIuNjUzMiA4LjE2NTctNy40MTgzIDEyLjc1LTE1Ljg5MyAxMS44NDctMjEuOSA1Ljk3NjItNTAuODczIDUuNjEzMy01Mi41OTZ6IiBzdHlsZT0iZmlsbDojYWNmZmZkOyIvPjxwYXRoIGQ9Im0xMTUuNzMgMTMuMTkxYy03LjM3ODctMC4xMzM1MS0xMy41MDkgNS43ODg4LTEzLjYzMSAxMy4xNjgtMC4xMDEyOCA1Ljg4MjcgMy40NTA4IDEwLjUxOCA4LjA1NjYgMTIuNTIgMS4wNjEgMC40NjExNSAyLjE4NjkgMC43ODAwOSAzLjM0MTggMC45NTcwM3Y4LjQyOTFjMC42Njc3OC0wLjAyMDM1IDEuMzM1OC0wLjAzMDc3IDIuMDAzOS0wLjAzMTI1IDAuNjY1NDctOWUtNSAxLjMzMDkgMC4wMDk3IDEuOTk2MSAwLjAyOTN2LTguNDExNWMyLjYwMDItMC4zODQwNiA1LjE1ODYtMS41NDg0IDcuMzA4Ni0zLjYyNSA0LjIzMjItNC4wODc4IDQuOTk5MS05Ljg3NTUgMy4xNTgyLTE0LjU0OS0xLjg0MDctNC42NzI2LTYuMzUwMi04LjM4MzQtMTIuMjMyLTguNDg2M3oiIHN0eWxlPSJmaWxsOiNhY2ZmZmQ7Ii8+PHBhdGggZD0ibTgzLjUyNyAxMDMuOTh2MTBoMTB2LTEwaC0xMHptNTMuOTQ1IDB2MTBoMTB2LTEwaC0xMHoiIHN0eWxlPSJmaWxsOm5vbmU7Ii8+PHBhdGggZD0ibTU2LjYyMSA5NC45MDZ2MTEuNjg4aDUuMzQxOHY2LjQ5MjJoNS4zNDE4djYuMTA1NWg1LjMyMjN2Ni4yMzI0aDI2Ljg0NnYtNi4yMzI0aDUuMzA0N3YtNi4xMDU1aDUuMTQ0NXYtNi4wMDM5aDExLjE1NHY2LjAwMzloNS4xNDQ2djYuMTA1NWg1LjMwNjZ2Ni4yMzI0aDI2Ljg0NnYtNi4yMzI0aDUuMzIwM3YtNi4xMDU1aDUuMzQzOHYtNi40OTIyaDUuMzQxOHYtMTEuNjg4eiIgc3R5bGU9ImZpbGw6IzAwMDsiLz48cGF0aCBkPSJtNjcuMzg3IDEwMC42NXY1LjkzOTRoNS4xOTkydi01LjkzOTR6bTUuMTk5MiA1LjkzOTR2Ni40OTIyaDUuNDIzOHYtNi40OTIyem01LjQyMzggMGg1LjE5OTJ2LTUuOTM5NGgtNS4xOTkyem01LjE5OTIgMHY2LjQ5MjJoNS40MjU4di02LjQ5MjJ6bTUuNDI1OCA2LjQ5MjJ2Ni4xMDU1aDUuMTQyNnYtNi4xMDU1em0tMTAuNjI1IDB2Ni4xMDU1aDUuMTQ0NXYtNi4xMDU1em00OC4yODEtMTIuNDMydjUuOTM5NGg1LjE5OTJ2LTUuOTM5NHptNS4xOTkyIDUuOTM5NHY2LjQ5MjJoNS40MjM4di02LjQ5MjJ6bTUuNDIzOCAwaDUuMTk5MnYtNS45Mzk0aC01LjE5OTJ6bTUuMTk5MiAwdjYuNDkyMmg1LjQyNTh2LTYuNDkyMnptNS40MjU4IDYuNDkyMnY2LjEwNTVoNS4xNDI2di02LjEwNTV6bS0xMC42MjUgMHY2LjEwNTVoNS4xNDQ1di02LjEwNTV6IiBzdHlsZT0iZmlsbDojZmZmOyIvPjxwYXRoIGQ9Im0xMjMuMDcgMTU0LjA1YTEwLjYxIDEwLjYxIDAgMCAxLTE1IDAuMTRsLTAuMTQtMC4xNCIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLXdpZHRoOjYuM3B4O3N0cm9rZTojMDAwOyIvPjxwYXRoIGQ9Im0xMjAuMSAxNDIuMjIgMC4xOS0wLjExYzMtMS44NyA1LjQ1LTIuNCA3LjMtMS40NiAyLjE1IDEuMSAzLjEyIDMuODQgNC44NCA1LjVhNS4xOCA1LjE4IDAgMCAwIDYuNjggMC43M20tMjguMjEtNC42Ni0wLjE5LTAuMTFjLTMtMS44Ny01LjQ1LTIuNC03LjMtMS40Ni0yLjE1IDEuMS0zLjEyIDMuODQtNC44NCA1LjVhNS4xOCA1LjE4IDAgMCAxLTYuNjggMC43MyIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLXdpZHRoOjUuOTk5OHB4O3N0cm9rZTojZWNlY2VjOyIvPjwvc3ZnPg==",
        "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMzEgMjMxIj48cGF0aCBkPSJNMzMuODMsMzMuODNhMTE1LjUsMTE1LjUsMCwxLDEsMCwxNjMuMzQsMTE1LjQ5LDExNS40OSwwLDAsMSwwLTE2My4zNFoiIHN0eWxlPSJmaWxsOiNmZjJjMmM7Ii8+PHBhdGggZD0ibTExNS41IDUxLjc1YTYzLjc1IDYzLjc1IDAgMCAwLTEwLjUgMTI2LjYzdjE0LjA5YTExNS41IDExNS41IDAgMCAwLTUzLjcyOSAxOS4wMjcgMTE1LjUgMTE1LjUgMCAwIDAgMTI4LjQ2IDAgMTE1LjUgMTE1LjUgMCAwIDAtNTMuNzI5LTE5LjAyOXYtMTQuMDg0YTYzLjc1IDYzLjc1IDAgMCAwIDUzLjI1LTYyLjg4MSA2My43NSA2My43NSAwIDAgMC02My42NS02My43NSA2My43NSA2My43NSAwIDAgMC0wLjA5OTYxIDB6IiBzdHlsZT0iZmlsbDojZmFlM2I5OyIvPjxwYXRoIGQ9Im0xNDEuNzUgMTk1YTExNC43OSAxMTQuNzkgMCAwIDEgMzggMTYuNSAxMTUuNTMgMTE1LjUzIDAgMCAxLTEyOC40NiAwIDExNC43OSAxMTQuNzkgMCAwIDEgMzgtMTYuNWwyNi4yMyAxMyAyNi4yNy0xM3oiIHN0eWxlPSJmaWxsOiMyMzg1YzY7Ii8+PHBvbHlnb24gcG9pbnRzPSIxMTUuNSAyMDguMDMgMTE1LjUgMjA3Ljc0IDgyLjcyIDE4OC45MSA4MC40NSAxOTguODYgMTAxLjQ2IDIyMi43MiIgc3R5bGU9ImZpbGw6I2I4ZDBlMDsiLz48cG9seWdvbiBwb2ludHM9IjExNS41IDIwOC4wMyAxMTUuNSAyMDcuNzQgMTQ4LjI4IDE4OC45MSAxNTAuNTUgMTk4Ljg2IDEyOS41NCAyMjIuNzIiIHN0eWxlPSJmaWxsOiNiOGQwZTA7Ii8+PHBhdGggZD0ibTEwOC4zNyAyMi4wMTljLTYuMjY5OC0xMi44MjktMTcuMTUxLTEzLjM5Ni0xOC45NDkgMS4xNzY5LTExLjQ0OC05LjQ1ODMtMjYuMDIxLTQuNDgzLTIwLjM2MSAxMi40MjItMTIuMjUxLTcuOTI4Mi0yNC45MTkgMS43NzYxLTE3LjA3NiAyMC44NTMtMjcuMDggMi4zNjQ2LTIyLjcxNSAyNC43MjYtMTAuMTExIDMxLjQzNS05LjkwMDIgMy4zNTY2LTEwLjcwMSA5LjQwMDYtOC40NjQgMTQuNDk3IDIuNjU3NCA0Ljc4NDIgOS4wMTI2IDYuNDczNyAxMS41NDUgOS42NTE5LTYuNjI0IDAuNTk0MTktOC40MTEyIDUuNjAxMS01Ljc0MDQgOS41MTkyIDEuNjg5NiAyLjQ3ODcgNS4yNzU2IDQuMjIxOCA4LjU5NzEgNS41NDU1IDEuMDQ4NSAwLjQwNjU4IDMuNzAyIDEuMjczMiAzLjkwNTMgMi40MTgxIDAuMTg3NDQgMS4yMTU2LTYuNzg4NCAzLjAwNTUtNS43MjgxIDUuMjYxMiAwLjYwNjQ4IDEuNDIyNyAxLjc3NjQgMi43MTUxIDIuNjQ2NiAzLjcxNTYgMS4yODA3IDEuNjU5NSAxMC43NTUgOC4wMzUxIDkuNDU4MyA0LjIwNDktMS4wMjcxLTMuNzIzNC0yLjIxNDgtNy40NjgyLTMuMTQ1Ni0xMS4xOTItMS4xNjYyLTUuMzA2OS0xLjc4NjgtMTAuNzIxLTEuMTAyLTE2LjE1NiAxLjQyMjMtNS40NTUgNS4wNjktNC40MjY1IDcuNzgzNy04LjM1ODggMy41MjY0LTUuNzUwNSAyLjAyOTYtMTEuNjE0IDIuMTI0LTEzLjU3NSAwLjEwNy0xLjc4NjggMS41NDA3LTEuMTg3NiAzLjE4ODQtMS40MzM3IDQuMzg2OC0wLjY0MTk2IDcuMDA4MS0yLjExODUgOC44Mzc3LTYuMjY5OCAwLjc3MDM1LTEuOTI1OSAwLjYyMDU3LTkuNzU3OCAwLjUyNDI2LTExLjc4IDAuMzYzNzgtNC42MzI4IDQuMTgzNSAwIDYuNTQ4IDAuNjQxOTYgMy4yNjMzIDAuODg4MDUgNi44Nzk3IDAuMjEzOTkgOS4wNzMxLTIuNTAzNyAxLjc1NDctMi4zNzUzIDIuMDg2NC0yLjg4ODggNC42MTE0LTAuODAyNDUgMi42ODU2IDIuMjE0OCA0LjA5NzkgMy4xMzQ5IDcuNjkyOSAzLjI3NCA1LjU2MzcgMC4yMDMyOSA4Ljc3MzUtNi4yNjk4IDExLjMyLTUuNjM4NiAzLjUyMDEgMC44NzczNSAzLjYwNTcgNS40NTY3IDEwLjI2MSA0Ljg2ODIgMi4zODYtMC4yMDMyOSAzLjgzMDQtMC44NjY2NSA1LjQwMzItMi42NDI4IDAuODg4MDUtMC45OTUwNSAxLjk1OC0yLjUwMzcgMy40MzQ1LTIuNjIxNCAxLjQ2NTgtMC4xMTc3IDIuMzIxOCAyLjM2NDYgMy4wMDY1IDMuNDQ1MiAxLjE5MjYgMi42NzU1IDQuMDI5NSAzLjY1MTMgNi4yMzc3IDMuMzE2OCAxLjk1OC0wLjE3MTE5IDMuODU0LTEuNDExNSA1LjQyNjgtMi40NzA3IDAuOTk2NzktMC42NjEwMiAxLjgyODQtMC44MTEyOCAxLjkyNTYgMC4yMDcxIDAuMjk1OTIgMi4yMjcxIDAuMDg2MiA3LjcwMjUgMC4xNTk2IDguNDgyMSAwLjEwNTU2IDguNDYwOSA1LjM3IDEwLjU2OSAxMy4yMjMgMTAuMzMzLTAuMzE4NzEgMy43NDY0IDAuMDU4MyAxMS4yOCA1LjQzNTMgMTQuNTYyIDMuOTQ4MSAyLjc2MDQgNi42NjU3IDEuMjczMiA2LjcyOTkgNy44NTM0IDdlLTMgNi4xOTE0LTAuNDM2OTMgMTMuMDYxLTEuMjk0NiAxOC4xODktMC42OTU0NyA0LjA0NDQtMS4yNDEyIDYuNDgzOC0yLjUyNTEgMTAuMzc4LTAuNjQxOTYgMS45MTUyLTAuODEzMTUgMS45Njg3IDEuNDEyMyAxLjA2OTkgNy4xNDcyLTMuMTQ1NiAxMC41MzktMTEuNDggOC4zNTYyLTE4Ljg0Mi0wLjQzODY5LTIuMDQzNiAwLjg0NTI1LTEuNzIyNiAyLjg3ODEtMi42MTA2IDkuNTI0OC00LjIzNjMgOC4xMjY0LTExLjMzNS0wLjc1OTY3LTE0LjI3MyAxMS45ODgtMy4wOTI2IDEzLjg4Ni04LjkwMDIgNi42ODcxLTE1LjM3NSA3LjMwNzctNS45MTY4IDMuNjM3OC0xNi4xNzctMi44MDMyLTE2Ljk5MSAxMi40MjItNy4wOTM3IDUuNzM0OS0yMi4wNjItNS4xMDM2LTE4LjQ5OSA0LjE3MjgtMTIuMDM3LTUuNTYzNy0yNi4yMDMtMjEuMTIxLTE2Ljg5NCA2Ljk2NTMtMTEuMzczIDIuMDY1LTIyLjY2MS0xMi4xMDEtMTAuNzg1LTMuNDU1OS0xOC4zODItMTUuMTQtMTYuNTg0LTIzLjkwMi01LjAxOCAwLjA5NDM1LTIwLjA3NS0xNi4wMDEtMTcuNDItMTguMTQ2LTIuNTg5MnoiIHN0eWxlPSJmaWxsOiMwMDA7Ii8+PHBhdGggZD0ibTUuNDM1MyA4MC41MDJjNy40NDY4IDkuMTM3MyAxNS42MzIgOC44OTEyIDE1LjYzMiA4Ljg5MTJzLTYuMDc3MiAzLjc5ODMtNi44MzY5IDkuODc1NWMtMC43NTk2NiA2LjA4OCA0LjU1NzkgOS42Mjk1IDguMDk5NCAxMC42NDYgMy41NTIyIDEuMDA1OCA3LjA5MzctMi43OTI1IDcuMDkzNy0yLjc5MjVzLTUuODMxMiAxMC42NDYtMS41MTkzIDE1Ljk2NGM0LjMwMTIgNS4zMTc2IDExLjkwOCAzLjAzODYgMTEuOTA4IDMuMDM4NnMtNS4zMjgzIDEwLjEzMiAxLjAwNTcgMTQuMTg3YzUuODMxMiAzLjcyMzQgMTguNTQyIDcuNjcxNSAyMC41MTEgOC4yNzA2LTYuMDY2Ni05Ljc0NzItOS41NzYtMjEuMjQ5LTkuNTc2LTMzLjU3NXYtMC4wNDI4YzAtMzUuMjAxIDI4LjU0Ni02My43NDcgNjMuNzQ3LTYzLjc0NyAzNS4yMTIgMCA2My43NTggMjguNTQ2IDYzLjc1OCA2My43NDcgMCAxMi40NzYtMy41ODQzIDI0LjExNi05Ljc4OTkgMzMuOTQ5aDAuNTM0OTZzMTMuOTMxLTEuMDA1NyAxNi4yMS05LjM3MjdjMi4yNzktOC4zNTYyIDAuNzU5NjctOS44NzU2IDAuNzU5NjctOS44NzU2czEwLjYzNSAyLjAzMjkgMTMuNDE3LTcuNTk2NmwyLjc5MjYtOS42Mjk1czEwLjEzMiAwIDEwLjg5Mi03LjA4M2MwLjc1OTYzLTcuMDkzNy03LjAyOTUtMTIuNDExLTcuMDI5NS0xMi40MTFzMTEuNDU5IDAuODIzODUgMTQuNDk4LTEwLjQ1M2MxLjAxNjQtMy43NTU1IDAuODM0NTYtOC4yMTcxIDAuMTM5MS0xMi40OTctMTcuNjY1LTQxLjE2MS01OC41NjktNjkuOTk1LTEwNi4xOC02OS45OTUtMzAuNjMyIDAtNjAuMDM0IDEyLjE4Ny04MS42NzkgMzMuODMxdjAuMDEwN2MtMTMuMTcxIDEzLjE3MS0yMi44MzMgMjkuMjItMjguMzg2IDQ2LjY2eiIgc3R5bGU9ImZpbGw6IzAwMDsiLz48cGF0aCBkPSJtMTMzIDEwOC4xN2gxNC4xN20tNjMuMjYgMGgxNC4wOW0tMjAuNjktOC45M2EyMS4zMSAyMS4zMSAwIDAgMSAyNy4yOSAwbTIxLjggMGEyMS4zMSAyMS4zMSAwIDAgMSAyNy4yOSAwIiBzdHlsZT0iZmlsbDpub25lO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NC44MjQzcHg7c3Ryb2tlOiMwMDA7Ii8+PHBhdGggZD0ibTExOC4wNSAxNDguMzhjLTEuNTA2NCAwLjU5MTkyLTIuNTk1IDIuMDI2NC0yLjYxOTEgMy45ODYzLTAuMDU3NCAxLjM5NzcgMC41MzQyMSAzLjU2MTEgMy42NzU4IDUuNzk0OSA4LjA1NDQgNC45NDQ2IDIxLjUwNyAzLjY4NjIgMjEuMjU1LTcuMTY1OC00LjY2NCA0LjgyMTktMTAuMDIxIDUuNjM3Ny0xNC43NzMgMC43MzkwNy0xLjIzMjgtMS4xNTk5LTIuMzY5NC0yLjQwMzItMy45Mjk0LTMuMTQwOC0xLjA5NDYtMC41MDQyNC0yLjIyNTctMC42MTA3MS0zLjYwOTYtMC4yMTMzN3oiIHN0eWxlPSJmaWxsOiMwMDA7Ii8+PHBhdGggZD0ibTEzMy42MSAxNTQuOTNjMy4wNzMxLTAuNDg4MTYgNS41NzAyLTIuODQ1NyA1LjQ0MzgtNC41MDU5LTAuNDc4MDEtNC44MzExLTUuNzMxNy0zLjA5MTctNC4zMzY5LTAuMzE0MDUtMi44MTAzLTEuNDQ0NS0xLjgzNDMtMy44ODYyIDAuNTA0MjctNC43MzI0IDIuMDUwOS0wLjc5OTQyIDUuMDkzNyAwLjM0MzE0IDYuMjAwMiAyLjYzNzYgMi4yMjI5IDcuMzQyMi0zLjQzNzYgMTEuNjgtMTAuMzg0IDEyLjU2MXoiIHN0eWxlPSJmaWxsOiMwMDA7Ii8+PHBhdGggZD0ibTExMi44MSAxNDguMzhjMS41MDY0IDAuNTkxOTIgMi41OTUgMi4wMjY0IDIuNjE5MSAzLjk4NjMgMC4wNTc0IDEuMzk3Ny0wLjUzNDIxIDMuNTYxMS0zLjY3NTggNS43OTQ5LTguMDU0NCA0Ljk0NDYtMjEuNTA3IDMuNjg2Mi0yMS4yNTUtNy4xNjU4IDQuNjY0IDQuODIxOSAxMC4wMjEgNS42Mzc3IDE0Ljc3MyAwLjczOTA3IDEuMjMyOC0xLjE1OTkgMi4zNjk0LTIuNDAzMiAzLjkyOTQtMy4xNDA4IDEuMDk0Ni0wLjUwNDI0IDIuMjI1Ny0wLjYxMDcxIDMuNjA5Ni0wLjIxMzM3eiIgc3R5bGU9ImZpbGw6IzAwMDsiLz48cGF0aCBkPSJtOTcuMjUyIDE1NC45M2MtMy4wNzMxLTAuNDg4MTYtNS41NzAyLTIuODQ1Ny01LjQ0MzgtNC41MDU5IDAuNDc4MDEtNC44MzExIDUuNzMxNy0zLjA5MTcgNC4zMzY5LTAuMzE0MDUgMi44MTAzLTEuNDQ0NSAxLjgzNDMtMy44ODYyLTAuNTA0MjctNC43MzI0LTIuMDUwOS0wLjc5OTQyLTUuMDkzNyAwLjM0MzE0LTYuMjAwMiAyLjYzNzYtMi4yMjI5IDcuMzQyMiAzLjQzNzYgMTEuNjggMTAuMzg0IDEyLjU2MXoiIHN0eWxlPSJmaWxsOiMwMDA7Ii8+PC9zdmc+",
        "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMzEgMjMxIj48cGF0aCBkPSJNMzMuODMsMzMuODNhMTE1LjUsMTE1LjUsMCwxLDEsMCwxNjMuMzQsMTE1LjQ5LDExNS40OSwwLDAsMSwwLTE2My4zNFoiIHN0eWxlPSJmaWxsOiMxODEyODQ7Ii8+PHBhdGggZD0ibTExNS41IDUxLjc1YTYzLjc1IDYzLjc1IDAgMCAwLTEwLjUgMTI2LjYzdjE0LjA5YTExNS41IDExNS41IDAgMCAwLTUzLjcyOSAxOS4wMjcgMTE1LjUgMTE1LjUgMCAwIDAgMTI4LjQ2IDAgMTE1LjUgMTE1LjUgMCAwIDAtNTMuNzI5LTE5LjAyOXYtMTQuMDg0YTYzLjc1IDYzLjc1IDAgMCAwIDUzLjI1LTYyLjg4MSA2My43NSA2My43NSAwIDAgMC02My42NS02My43NSA2My43NSA2My43NSAwIDAgMC0wLjA5OTYxIDB6IiBzdHlsZT0iZmlsbDojZWY5ODMxOyIvPjxwYXRoIGQ9Im0xNDEuNzUgMTk1YTExNC43OSAxMTQuNzkgMCAwIDEgMzggMTYuNSAxMTUuNTMgMTE1LjUzIDAgMCAxLTEyOC40NiAwIDExNC43OSAxMTQuNzkgMCAwIDEgMzgtMTYuNWwxNS43MSAxNS43NWgyMXoiIHN0eWxlPSJmaWxsOiMxZTVlODA7Ii8+PHBhdGggZD0ibTg5LjI5MSAxOTVhMTE0Ljc5IDExNC43OSAwIDAgMC0zOC4wMDIgMTYuNSAxMTUuNTMgMTE1LjUzIDAgMCAwIDM4LjAwMiAxNi40ODJ6bTUyLjQzNCAwdjMyLjk4MmExMTUuNTMgMTE1LjUzIDAgMCAwIDM4LTE2LjQ4MiAxMTQuNzkgMTE0Ljc5IDAgMCAwLTM4LTE2LjV6IiBzdHlsZT0iZmlsbDojZmZmOyIvPjxwYXRoIGQ9Im0xNTcuMTUgMTk5Ljc1YzAuMjU0OCA3LjQ1MDEgMS41NCAxNC44NTUgNC45NTEyIDIxLjQzMmExMTUuNTMgMTE1LjUzIDAgMCAwIDE3LjYxOS05LjY3OTcgMTE0Ljc5IDExNC43OSAwIDAgMC0yMi41Ny0xMS43NTJ6bS04My4yOTUgMmUtM2ExMTQuNzkgMTE0Ljc5IDAgMCAwLTIyLjU3IDExLjc1IDExNS41MyAxMTUuNTMgMCAwIDAgMTcuNjIxIDkuNjc5N2MzLjQxMS02LjU3NjUgNC42OTQ0LTEzLjk4IDQuOTQ5Mi0yMS40M3oiIHN0eWxlPSJmaWxsOiMxZTVlODA7Ii8+PHBhdGggZD0ibTk5LjE5NyAyMDQuOTd2MmUtM2wxNi4zMDIgMTYuMzAxIDE2LjMwMS0xNi4zMDF2LTJlLTN6IiBzdHlsZT0iZmlsbDojZmZmOyIvPjxwYXRoIGQ9Im01Mi4xMDcgNTcuMjkzYy0xLjM0MTEgMTQuODM5LTMuODcwNyA1Mi43NzEgMS4zMTQ1IDcyLjcxNS0wLjY3NTcyLTQzLjgyOSAxMi4zODktNzAuMTc3IDYyLjA3OC03MC4xODcgNDkuNjg5IDAuMDEwMDYxIDYyLjc1NCAyNi4zNTkgNjIuMDc4IDcwLjE4NyA1LjE4NTItMTkuOTQ0IDIuNjU1Ni01Ny44NzYgMS4zMTQ1LTcyLjcxNWgtNjMuMzkzLTYzLjM5M3oiIHN0eWxlPSJmaWxsOiMwMDA7Ii8+PHBhdGggZD0ibTUyLjMzOSAzMC42MjljLTEuMzgyNSAyNC40NDgtMi4xMjE2IDQ1LjkwNS0xLjQ0OTcgNjYuNTE3IDkuNDY0My00OC4zMDQgMTEyLjc3LTU0LjkxNiAxMjkuMjIgMCAwLjY3MTkxLTIwLjYxMi0wLjM3OTgtNDcuMjU2LTEuNDkyOC02Ni41MTctMzIuMjQxIDE0LjI5Ni05MS4zNDYgMTguODYxLTEyNi4yOCAweiIgc3R5bGU9ImZpbGw6bm9uZTsiLz48cGF0aCBkPSJtMTE1LjUgMjQuOTJjLTIyLjI1IDAtNDQuNSA0LjIyOTYtNTYuNzIgMTIuNjktMy4zMiAyLjMtNS4wNjAyIDYuNDM5Mi01LjU5MDMgMTAuMjY5LTAuNDUyNzUgMy4yMy0wLjg0MDQzIDYuNzU2MS0xLjE3ODUgMTAuNDYxaDEyNi45OGMtMC4zMzcwNC0zLjcwNDctMC43MjQ5Mi03LjIzMDYtMS4xNzc1LTEwLjQ2MS0wLjUzMDA5LTMuODMwMS0yLjI2OTctNy45OTkyLTUuNTg5Ny0xMC4yNjktMTIuMjItOC40NjAxLTM0LjQ3LTEyLjY5LTU2LjcyLTEyLjY5eiIgc3R5bGU9ImZpbGw6IzAwMDsiLz48cGF0aCBkPSJtNzYuNTIxIDM5LjEzOWMyMS4yMzMgMy4zOTY1IDMzLjExNi0xMy4zOTIgMzcuNTktMzEuNzIgNC4zNjE0IDE3LjE1OCAxNC4xNzUgMzQuOTY4IDM2LjU3NyAzMS41ODQtMzMuOTIxIDIwLjU5NC01Ny42NDYgMTEuNTk0LTc0LjE2NyAwLjEzNDV6IiBzdHlsZT0iZmlsbDpub25lOyIvPjxwYXRoIGQ9Im0xMzEuNjQgMTE0LjA5IDcuNTgwMS03LjU4MDEgNy41ODAxIDcuNTgwMW0tNjIuNiAwIDcuNTgwMS03LjU4MDEgNy41Nzk5IDcuNTgwMSIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLXdpZHRoOjYuNDk5OHB4O3N0cm9rZTojMDAwOyIvPjxwYXRoIGQ9Im0xMzYuMjEgMTQ3LjA5YTIxLjc3IDIxLjc3IDAgMCAxLTQwLjEzIDB6IiBzdHlsZT0iZmlsbDojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6My40OTk5cHg7c3Ryb2tlOiMwMDA7Ii8+PC9zdmc+",
      ];
      // 处理错误
      console.error("Error fetching data:", error);
      setAvatars(data);
      setIsLoading(false);
    }
  };

  // useEffect(async () => {
  //     const data = [];
  //     for (let i = 0; i < 4; i++) {
  //         const image = await axios.get(
  //             `${api}/${Math.round(Math.random() * 1000)}`//todo
  //         );
  //         const buffer = Buffer.from(image.data);//todo
  //         data.push(buffer.toString("base64"));
  //     }
  //     setAvatars(data);
  //     setIsLoading(false);
  // }, [])

  useEffect(() => async () => {
    if (!localStorage.getItem("chat-app-user")) navigate("/login");
  });

  useEffect(() => {
    fetchData(); // 调用异步函数
  }, []);

  return (
    <>
      {isLoading ? (
        <Container>
          <img
            src={loader}
            alt="loader"
            className="loader"
          />
        </Container>
      ) : (
        <Container>
          <div className="title-container">
            <h1>Pick an avatar as your profile picture</h1>
          </div>
          <div className="avatars">
            {avatars.map((avatar, index) => {
              return (
                <div
                  className={`avatar ${
                    selectedAvatar === index ? "selected" : ""
                  }`}>
                  <img
                    src={`data:image/svg+xml;base64,${avatar}`}
                    alt="avatar"
                    key={index}
                    onClick={() => setselectedAvatar(index)}
                  />
                </div>
              );
            })}
          </div>
          <button
            className="submit-btn"
            onClick={setProfilePicture}>
            Set as Profile Picture
          </button>
        </Container>
      )}
      <ToastContainer />
    </>
  );
}

const Container = styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  gap: 3rem;
  background-color: #131324;
  height: 100vh;
  width: 100vw;

  /* 这里也不懂 */
  .loader {
    max-inline-size: 100%;
  }
  .title-container {
    h1 {
      color: white;
    }
  }

  .avatars {
    display: flex;
    gap: 2rem;
    .avatar {
      border: 0.4rem solid transparent;
      padding: 0, 4rem;
      border-radius: 5rem;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: 0.5s ease-in-out;
      img {
        height: 6rem;
        transition: 0.5s ease-in-out;
      }
    }
    .selected {
      border: 0.4rem solid #4e0eff;
    }
  }

  .submit-btn {
    background-color: #997af0;
    color: white;
    padding: 1rem 2rem;
    border: none;
    font-weight: bold;
    cursor: pointer;
    border-radius: 0.4rem;
    font-size: 1rem;
    text-transform: uppercase;
    transition: 0.5s ease-in-out;

    &:hover {
      background-color: #4e0eff;
    }
  }
`;
